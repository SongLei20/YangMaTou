window.onload=function(){function e(){s=setInterval(function(){++a===l.children.length&&(l.style.left=0,a=1),bufferMove(l,{left:-a*h}),++r===l.children.length-1&&(r=0),f.forEach(function(e){e.className=""}),f[r].className="active"},4e3)}var n=$("box"),l=$("img-list"),t=$("btn-direction"),c=$("left-btn"),i=$("right-btn"),o=$("btn-list"),f=Array.from(o.children),a=0,r=0,s=null,h=1200;l.innerHTML+=l.children[0].outerHTML,l.style.width=h*l.children.length+"px",n.onmouseenter=function(){clearInterval(s),t.style.display="block"},n.onmouseleave=function(){t.style.display="none",e()},c.onclick=function(){--a<0&&(l.style.left=-(l.children.length-1)*h+"px",a=l.children.length-2),bufferMove(l,{left:-a*h}),--r<0&&(r=l.children.length-2),f.forEach(function(e){e.className=""}),f[r].className="active"},i.onclick=function(){++a===l.children.length&&(l.style.left=0,a=1),bufferMove(l,{left:-a*h}),++r===l.children.length-1&&(r=0),f.forEach(function(e){e.className=""}),f[r].className="active"},f.forEach(function(e,n){e.onmouseenter=function(){a=n,bufferMove(l,{left:-a*h}),r=n,f.forEach(function(e){e.className=""}),f[r].className="active"}}),e()};